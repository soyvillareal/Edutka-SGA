<div class="display-flex">
	<div class="content-notes margin-auto">
		<div class="margin-t10 margin-t50 padding-b50">
			<?php if($TEMP['#admin'] == true || $TEMP['#academic'] == true) { ?>
			<div class="background-white border-radius-12 padding-25 margin-b10">
				<label class="color-black">{$word->search}</label>
				<div class="content-search-notes position-relative margin-b10">
					<div class="display-flex margin-auto border-radius-4">
				        <input class="background-grely padding-10 border-focus-blue border-all border-grey border-top-left-radius border-top-right-radius w-100 color-black" type="text" id="search-users" name="keyword" autocomplete="off" value="{#keyword_enroll}"> 
				    </div>
			        <div class="search-down w-100 z-index-first position-absolute background-white"></div>
			    </div>
			</div>
			<?php } ?>
			<?php if(!empty($TEMP['#keyword_enroll']) || $TEMP['#student'] == true) { ?>
			<div class="text-center background-white border-radius-12 padding-25 margin-b10">
				<div class="max-w-900 border-top-left-radius border-top-right-radius">
					<div class="font-medium color-black">{$word->current_license_plates}</div>
					<div class="display-flex margin-t15">
						<div class="font-mediumly font-bold margin-left-auto margin-r15">{$programs}</div>
						<div class="font-mediumly font-bold margin-right-auto">{$courses}</div>
					</div>
				</div>
			</div>
			<div class="background-white border-radius-12 padding-25 margin-b10">
				<label class="color-black">{$word->type}</label>
			    <div class="content-types position-relative margin-b10">
			    	<select id="type" class="cont-input h-50 border-radius-12 animated-easy border-focus-blue caret-down background-grely color-black">
			            <option value="program"<?php echo($TEMP['#type'] == 'program') ? ' selected' : '';?>>{$word->program}</option>
			            <option value="course"<?php echo($TEMP['#type'] == 'course') ? ' selected' : '';?>>{$word->course}</option>
			        </select>
			    	<div class="color-red text-left text-error font-low margin-t5"></div>
			    </div>
				<?php if(count($TEMP['#programs']) > 1 && $TEMP['#type'] == 'course'){ ?>
				<label class="color-black">{$word->programs}</label>
			    <div class="content-types position-relative margin-b10">
			    	<select id="program_id" class="cont-input h-50 border-radius-12 animated-easy border-focus-blue caret-down background-grely color-black">
			            <?php foreach($TEMP['#programs'] as $program){ ?>
	                    <option value="<?php echo $program['id']; ?>"<?php echo($program['id'] == $TEMP['#program_id']) ? ' selected' : '';?>><?php echo $program['name']; ?></option>
	                    <?php } ?>
				    </select>
			    	<div class="color-red text-left text-error font-low margin-t5"></div>
			    </div>
				<?php } ?>
				<label class="color-black">{$word->search}</label>
				<div class="content-search-notes position-relative margin-b10">
					<div class="display-flex margin-auto border-radius-4">
				        <input class="background-grely padding-10 border-focus-blue border-all border-grey border-top-left-radius border-top-right-radius border-bottom-left-radius border-bottom-right-radius w-100 color-black" type="text" id="search-enrolled" name="keyword" autocomplete="off"> 
			        </div>
			        <div class="search-down z-index-first position-absolute background-white"></div>
			    </div>
			</div>
			<?php } ?>
	   	    <div class="background-white border-radius-12 padding-25">
	   	   		<?php if(($TEMP['#admin'] == true || $TEMP['#academic'] == true) && !empty($TEMP['#enrolled'])) { ?>
	   	    	<div class="font-medium text-center margin-t15 margin-b15">{$word->license_plates_of} <span class="color-black font-bold">{$full_name}</span></div>
	   	    	<?php } ?>
			    <div class="max-w-900 border-top-left-radius border-top-right-radius" id="container-enrolled">
			    	{$enrolled}
			    </div>
			</div>
		</div>
		<div class="clear"></div>
	</div>
</div>
<div class="cont-alert" id="alert-enrollp">
   <h2 class="color-red">{$word->enroll} {$word->program}</h2>
   <p>{$word->are_sure_want_make_registration}</p>
   <div class="padding-t25">
      <button class="btn-noway background-grely border-radius-4 padding-10 color-black hover-button font-uppercase" id="cancel-epalert">{$word->cancel}</button>
      <button class="btn-noway background-red border-radius-4 padding-10 color-black hover-opacity font-uppercase" id="register-epnroll">
        <span class="color-white">{$word->enroll}</span>
        <div class="content-spinner-circle">
            <div class="spinner-circle"></div>
        </div>
    </button>
   </div>
</div>
<div class="background-pointer"></div>
<div class="cont-alert" id="alert-enrollc">
   <?php if($TEMP['#student'] == true) { ?>
   <h2 class="no-margin padding-b10 color-red">{$word->enter_course_code}</h2>
   <input id="course-code" class="cont-input h-50 border-radius-12 animated-easy border-focus-blue background-grely color-black" />
   <?php } else { ?>
   <h2 class="padding-b10 color-red">{$word->enroll} {$word->course}</h2>
   	<p id="registered-course" class="hidden">{$word->are_sure_want_make_registration}</p>
   	<p id="unregistered-course" class="font-medium margin-auto">
        <span class="color-black">{$word->enroll_in_the_period} </span>
        <select id="period_id" class="border-none mw-w-100 border-radius-12 text-center padding-5 font-low animated-easy caret-down background-grely color-black">
            <?php foreach($TEMP['#period_all'] as $period) { ?>
            <option value="<?php echo $period['id']; ?>"><?php echo $period['name']; ?></option>
            <?php } ?>
        </select>
    </p>
   <?php } ?>
   <div class="padding-t25">
      <button class="btn-noway background-grely border-radius-4 padding-10 color-black hover-button font-uppercase" id="cancel-ecalert">{$word->cancel}</button>
      <button class="btn-noway background-red border-radius-4 padding-10 color-black hover-opacity font-uppercase" id="register-ecnroll">
        <span class="color-white">{$word->enroll}</span>
        <div class="content-spinner-circle">
            <div class="spinner-circle"></div>
        </div>
    </button>
   </div>
</div>
<div class="background-pointer"></div>
<div class="cont-alert" id="alert-cancel">
   <h2 class="color-red">{$word->cancel} {$word->enrollment}</h2>
   <p>{$word->this_action_cannot_undone_continue}</p>
   <div class="padding-t25">
      <button class="btn-noway background-grely border-radius-4 padding-10 color-black hover-button font-uppercase" id="close-ealert">{$word->close}</button>
      <button class="btn-noway background-red border-radius-4 padding-10 color-black hover-opacity font-uppercase" id="cancel-enroll">
        <span class="color-white">{$word->cancel}</span>
        <div class="content-spinner-circle">
            <div class="spinner-circle"></div>
        </div>
    </button>
   </div>
</div>
<div class="background-pointer"></div>
<script type="text/javascript">
var GA = D.querySelectorAll('.show_cmodal'),
	GB = D.querySelectorAll('.show_rcmodal'),
	GK = D.querySelectorAll('.show_rpmodal'),
	GY = D.querySelector('#type'),
	GS = D.querySelector('#program_id'),
	GO = D.querySelector("#period_id"),
	GI = D.querySelector('#register-ecnroll'),
	GL = D.querySelector('#register-epnroll'),
	GJ = D.querySelector('#alert-enrollc'),
	GN = D.querySelector('#alert-enrollp'),
	GG = D.querySelector('#cancel-enroll'),
	GE = D.querySelector('#alert-cancel'),
	GP = D.querySelector('#container-enrolled'),
	GC = function(){
		var self = this;
		<?php if($TEMP['#student'] == true) { ?>
		GJ.style.display = "block", D.body.style.overflow = "hidden", GI.setAttribute('data-id', self.getAttribute('data-id')), GI.setAttribute('data-plan', self.getAttribute('data-plan'));
		<?php } else { ?>
		var course_id = self.getAttribute('data-id'),
			rcourse = D.querySelector('#registered-course'),
			urcourse = D.querySelector('#unregistered-course'); 
		console.log(self);
	    self.setAttribute('disabled', true), addClass(self, 'spinner-is-loading');
		Req('{$url->{req/rol-academic/check-enroll}}', function(e){
			console.log(e)
	        if(e.status == 200){
	        	if(e.cstatus == 'true'){
	        		removeClass(rcourse, 'hidden'), addClass(urcourse, 'hidden');
	        	} else {
	        		addClass(rcourse, 'hidden'), removeClass(urcourse, 'hidden');
	        	}
	        	GJ.style.display = "block", D.body.style.overflow = "hidden", GI.setAttribute('data-id', course_id), GI.setAttribute('data-plan', self.getAttribute('data-plan')), self.removeAttribute('disabled'), removeClass(self, 'spinner-is-loading');
		    } else {
		        loadAlert('{$word->error}', 1), self.removeAttribute('disabled'), removeClass(self, 'spinner-is-loading');
	        }
		}, "POST", "&course_id=" + course_id + "&user_id={#user_id}<?php echo(count($TEMP['#programs']) > 1 && $TEMP['#type'] == 'course') ? '&program_id=" + D.querySelector("#program_id").value' : '&program_id={#program}"';?>);
		<?php } ?>
	},
    GH = function(){
        GE.style.display = "block", D.body.style.overflow = "hidden", GG.setAttribute('data-id', this.getAttribute('data-id'));
    },
    GM = function(){
        GN.style.display = "block", D.body.style.overflow = "hidden", GL.setAttribute('data-id', this.getAttribute('data-id'));
    },
	keyword = "{#keyword_enroll}";
<?php if(count($TEMP['#programs']) > 1 && $TEMP['#type'] == 'course'){ ?>
addEvent(GS, 'change', function(){
	preloadPage('&one=enroll<?php echo($TEMP["#admin"] == true || $TEMP["#academic"] == true) ? "&keyword={#keyword_enroll}&user={#user_id}" : ''?>&type=' + GY.value + '&program_id=' + this.value);
}), <?php } ?>addEvent(D.querySelector('#close-ealert'), 'click', function(){
    GE.style.display = "", D.body.style.overflow = "";
}), addEvent(D.querySelector('#cancel-ecalert'), 'click', function(){
    GJ.style.display = "", D.body.style.overflow = "";
}), addEvent(D.querySelector('#cancel-epalert'), 'click', function(){
    GN.style.display = "", D.body.style.overflow = "";
})<?php if(!empty($TEMP['#keyword_enroll']) || $TEMP['#student'] == true) { ?>, addEvent(GY, 'change', function(){
    preloadPage('&one=enroll<?php echo($TEMP["#admin"] == true || $TEMP["#academic"] == true) ? "&keyword={#keyword_enroll}&user={#user_id}" : ''?>&type=' + this.value);
}), addEvent(D.querySelector('#search-enrolled'), "keyup", function(){
	var self = this;
	Req('{$url->{req/rol-student/search-enrolled}}', function(e){
		console.log(e);
	    GP.innerHTML = e.html;
	    GA = D.querySelectorAll('.show_cmodal'), GB = D.querySelectorAll('.show_rcmodal'), GK = D.querySelectorAll('.show_rpmodal');
		for(var j = 0, i = GB.length; j < i; j++) addEvent(GB[j], "click", GC);
	    for(var j = 0, i = GA.length; j < i; j++) addEvent(GA[j], "click", GH);
		for(var j = 0, i = GK.length; j < i; j++) addEvent(GK[j], "click", GM);
	}, "POST", "&keyword=" + self.value + "&id={#user_id}&typet={#type}<?php echo(count($TEMP['#programs']) > 1 && $TEMP['#type'] == 'course') ? '&program_id=" + D.querySelector("#program_id").value' : '&program_id={#program}"';?>)
})<?php } ?>, addEvent(GG, "click", function(){
    var self = this; 
    self.setAttribute('disabled', true), addClass(self, 'spinner-is-loading');
	Req('{$url->{req/rol-student/cancel-enroll}}', function(e){
        if(e.status == 200){
	        loadAlert("{$word->registration_canceled_successfully}", 1), preloadPage("{#url_params}");
	    } else {
	        self.removeAttribute('disabled'), removeClass(self, 'spinner-is-loading');
        }
	}, "POST", "&id=" + self.getAttribute('data-id'));
})<?php if($TEMP['!status'] != 'cancelled' || $TEMP['#admin'] == true || $TEMP['#academic'] == true){ ?>, addEvent(GI, "click", function(){
    var self = this; 
    self.setAttribute('disabled', true), addClass(self, 'spinner-is-loading');
	Req('{$url->{req/rol-student/register-ecnroll}}', function(e){
		console.log(e)
        if(e.status == 200){
	        loadAlert("{$word->you_have_successfully_enrolled}"), preloadPage("{#url_params}");
	    } else {
	        loadAlert(e.error, 1), self.removeAttribute('disabled'), removeClass(self, 'spinner-is-loading');
        }
	}, "POST", "&course_id=" + self.getAttribute('data-id') + "&user_id={#user_id}&plan_id=" + self.getAttribute('data-plan') + "<?php echo($TEMP['#student'] == true) ? '&code="+D.querySelector("#course-code").value' : '&period_id=" + GO.value'?>);
}), addEvent(GL, "click", function(){
    var self = this; 
    self.setAttribute('disabled', true), addClass(self, 'spinner-is-loading');
	Req('{$url->{req/rol-student/register-epnroll}}', function(e){
        if(e.status == 200){
	        loadAlert("{$word->you_have_successfully_enrolled}"), preloadPage("{#url_params}");
	    } else {
	        loadAlert("{$word->error}", 1), self.removeAttribute('disabled'), removeClass(self, 'spinner-is-loading');
        }
	}, "POST", "&id=" + self.getAttribute('data-id') + "&user_id={#user_id}");
})<?php } if($TEMP['#admin'] == true || $TEMP['#academic'] == true) { ?>, addEvent(D.querySelector('#search-users'), "keyup", function(e){
	let SV = this.value,
		SD = D.querySelector('.search-down');
	if (SV == '') {
		addClass(SD, 'hidden');
		SD.innerHTML = "";
		return false;
	} else if(e.which != 13 || e.keyCode != 13){
		removeClass(SD, 'hidden');
	}
	keyword = SV;
	Req('{$url->{req/rol-teacher/search-users}}', function(e) {
	    if (e.status == 200) {
	   		SD.innerHTML = e.html, loadPage(SD.querySelectorAll('a[target="_self"]'));
	    } else {
		    addClass(SD, 'hidden');
		   	SD.innerHTML = "";
		   	return false;
	    }
	}, "POST", "&typet=enroll&keyword=" + SV);
})<?php } ?>;
for(var j = 0, i = GB.length; j < i; j++) addEvent(GB[j], "click", GC);
for(var j = 0, i = GA.length; j < i; j++) addEvent(GA[j], "click", GH);
for(var j = 0, i = GK.length; j < i; j++) addEvent(GK[j], "click", GM);
</script>