<form class="password-panel form-middle" id="password-boom" action="javascript:void(0)">
    <div class="max-w-900 border-top-left-radius border-top-right-radius background-white padding-25">
        <div class="group-validate display-block margin-t15 position-relative w-100 padding-25">
            <div class="display-flex flex-wrap">
                <div class="cont-label dv-vertical-center">
        		  <label class="color-black">{$word->current_password}</label>
                </div>
                <div class="flex-grow position-relative">
            	    <input class="cont-input h-50 border-radius-12 animated-easy border-focus-blue padding-right-50 input_key background-grely color-black" id="current-password" autocomplete="off" type="password">
                    <button class="btn-noway display-inline-flex background-hover color-grey binput-inleft border-top-right-radius border-bottom-right-radius" tabindex="-1">
                        <svg class="dv-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path fill="currentColor" d="M 19.714 12 C 18.696 10.361 17.421 9.135 15.887 8.323 C 16.296 9.045 16.5 9.826 16.5 10.667 C 16.5 11.951 16.06 13.05 15.179 13.964 C 14.299 14.877 13.239 15.333 12 15.333 C 10.761 15.333 9.701 14.877 8.821 13.964 C 7.94 13.05 7.5 11.951 7.5 10.667 C 7.5 9.826 7.704 9.045 8.113 8.323 C 6.579 9.135 5.304 10.361 4.286 12 C 5.176 13.424 6.293 14.557 7.636 15.401 C 8.978 16.245 10.433 16.667 12 16.667 C 13.567 16.667 15.022 16.245 16.364 15.401 C 17.707 14.557 18.824 13.424 19.714 12 Z M 12.482 8 C 12.482 7.861 12.435 7.743 12.342 7.646 C 12.248 7.549 12.134 7.5 12 7.5 C 11.163 7.5 10.445 7.811 9.845 8.432 C 9.246 9.054 8.946 9.799 8.946 10.667 C 8.946 10.806 8.993 10.924 9.087 11.021 C 9.181 11.118 9.295 11.167 9.429 11.167 C 9.563 11.167 9.676 11.118 9.77 11.021 C 9.864 10.924 9.911 10.806 9.911 10.667 C 9.911 10.069 10.115 9.559 10.523 9.135 C 10.932 8.712 11.424 8.5 12 8.5 C 12.134 8.5 12.248 8.451 12.342 8.354 C 12.435 8.257 12.482 8.139 12.482 8 Z M 21 12 C 21 12.236 20.933 12.476 20.799 12.719 C 19.862 14.316 18.601 15.595 17.017 16.557 C 15.434 17.519 13.761 18 12 18 C 10.239 18 8.566 17.517 6.983 16.552 C 5.399 15.587 4.138 14.309 3.201 12.719 C 3.067 12.476 3 12.236 3 12 C 3 11.764 3.067 11.524 3.201 11.281 C 4.138 9.691 5.399 8.413 6.983 7.448 C 8.566 6.483 10.239 6 12 6 C 13.761 6 15.434 6.483 17.017 7.448 C 18.601 8.413 19.862 9.691 20.799 11.281 C 20.933 11.524 21 11.764 21 12 Z"/>
                        </svg>
                    </button>
                    <div class="color-red text-left text-error font-low margin-t5"></div>
                </div>
            </div>
    	</div>
        <div class="group-validate display-block margin-t15 position-relative w-100 padding-25">
            <div class="display-flex flex-wrap">
                <div class="cont-label dv-vertical-center">
        		  <label class="color-black">{$word->new_password}</label>
                </div>
                <div class="flex-grow position-relative">
            	    <input class="cont-input h-50 border-radius-12 animated-easy border-focus-blue padding-right-50 input_key background-grely color-black" id="password" autocomplete="off" type="password">
                    <button class="btn-noway display-inline-flex background-hover color-grey binput-inleft border-top-right-radius border-bottom-right-radius" tabindex="-1">
                        <svg class="dv-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path fill="currentColor" d="M 19.714 12 C 18.696 10.361 17.421 9.135 15.887 8.323 C 16.296 9.045 16.5 9.826 16.5 10.667 C 16.5 11.951 16.06 13.05 15.179 13.964 C 14.299 14.877 13.239 15.333 12 15.333 C 10.761 15.333 9.701 14.877 8.821 13.964 C 7.94 13.05 7.5 11.951 7.5 10.667 C 7.5 9.826 7.704 9.045 8.113 8.323 C 6.579 9.135 5.304 10.361 4.286 12 C 5.176 13.424 6.293 14.557 7.636 15.401 C 8.978 16.245 10.433 16.667 12 16.667 C 13.567 16.667 15.022 16.245 16.364 15.401 C 17.707 14.557 18.824 13.424 19.714 12 Z M 12.482 8 C 12.482 7.861 12.435 7.743 12.342 7.646 C 12.248 7.549 12.134 7.5 12 7.5 C 11.163 7.5 10.445 7.811 9.845 8.432 C 9.246 9.054 8.946 9.799 8.946 10.667 C 8.946 10.806 8.993 10.924 9.087 11.021 C 9.181 11.118 9.295 11.167 9.429 11.167 C 9.563 11.167 9.676 11.118 9.77 11.021 C 9.864 10.924 9.911 10.806 9.911 10.667 C 9.911 10.069 10.115 9.559 10.523 9.135 C 10.932 8.712 11.424 8.5 12 8.5 C 12.134 8.5 12.248 8.451 12.342 8.354 C 12.435 8.257 12.482 8.139 12.482 8 Z M 21 12 C 21 12.236 20.933 12.476 20.799 12.719 C 19.862 14.316 18.601 15.595 17.017 16.557 C 15.434 17.519 13.761 18 12 18 C 10.239 18 8.566 17.517 6.983 16.552 C 5.399 15.587 4.138 14.309 3.201 12.719 C 3.067 12.476 3 12.236 3 12 C 3 11.764 3.067 11.524 3.201 11.281 C 4.138 9.691 5.399 8.413 6.983 7.448 C 8.566 6.483 10.239 6 12 6 C 13.761 6 15.434 6.483 17.017 7.448 C 18.601 8.413 19.862 9.691 20.799 11.281 C 20.933 11.524 21 11.764 21 12 Z"/>
                        </svg>
                    </button>
                    <div class="color-red text-left text-error font-low margin-t5"></div>
                </div>
            </div>
    	</div>
        <div class="group-validate display-block margin-t15 position-relative w-100 padding-25">
            <div class="display-flex flex-wrap">
                <div class="cont-label dv-vertical-center">
        		  <label class="color-black">{$word->confirm_new_password}</label>
                </div>
                <div class="flex-grow position-relative">
            	    <input class="cont-input h-50 border-radius-12 animated-easy border-focus-blue padding-right-50 input_key background-grely color-black" id="re-password" autocomplete="off" type="password">
                    <button class="btn-noway display-inline-flex background-hover color-grey binput-inleft border-top-right-radius border-bottom-right-radius" tabindex="-1">
                        <svg class="dv-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path fill="currentColor" d="M 19.714 12 C 18.696 10.361 17.421 9.135 15.887 8.323 C 16.296 9.045 16.5 9.826 16.5 10.667 C 16.5 11.951 16.06 13.05 15.179 13.964 C 14.299 14.877 13.239 15.333 12 15.333 C 10.761 15.333 9.701 14.877 8.821 13.964 C 7.94 13.05 7.5 11.951 7.5 10.667 C 7.5 9.826 7.704 9.045 8.113 8.323 C 6.579 9.135 5.304 10.361 4.286 12 C 5.176 13.424 6.293 14.557 7.636 15.401 C 8.978 16.245 10.433 16.667 12 16.667 C 13.567 16.667 15.022 16.245 16.364 15.401 C 17.707 14.557 18.824 13.424 19.714 12 Z M 12.482 8 C 12.482 7.861 12.435 7.743 12.342 7.646 C 12.248 7.549 12.134 7.5 12 7.5 C 11.163 7.5 10.445 7.811 9.845 8.432 C 9.246 9.054 8.946 9.799 8.946 10.667 C 8.946 10.806 8.993 10.924 9.087 11.021 C 9.181 11.118 9.295 11.167 9.429 11.167 C 9.563 11.167 9.676 11.118 9.77 11.021 C 9.864 10.924 9.911 10.806 9.911 10.667 C 9.911 10.069 10.115 9.559 10.523 9.135 C 10.932 8.712 11.424 8.5 12 8.5 C 12.134 8.5 12.248 8.451 12.342 8.354 C 12.435 8.257 12.482 8.139 12.482 8 Z M 21 12 C 21 12.236 20.933 12.476 20.799 12.719 C 19.862 14.316 18.601 15.595 17.017 16.557 C 15.434 17.519 13.761 18 12 18 C 10.239 18 8.566 17.517 6.983 16.552 C 5.399 15.587 4.138 14.309 3.201 12.719 C 3.067 12.476 3 12.236 3 12 C 3 11.764 3.067 11.524 3.201 11.281 C 4.138 9.691 5.399 8.413 6.983 7.448 C 8.566 6.483 10.239 6 12 6 C 13.761 6 15.434 6.483 17.017 7.448 C 18.601 8.413 19.862 9.691 20.799 11.281 C 20.933 11.524 21 11.764 21 12 Z"/>
                        </svg>
                    </button>
                    <div class="color-red text-left text-error font-low margin-t5"></div>
                </div>
            </div>                    
        </div>
    </div>
    <div class="background-white max-w-900 border-bottom-right-radius border-bottom-left-radius padding-25">
        <div class="display-flex flex-center">
            <button class="btn-noway background-blue border-radius-4 padding-10 cursor-disabled color-white hover-opacity" id="password-change" disabled>
                <span class="color-white">{$word->save}</span>
                <div class="content-spinner-circle">
                    <div class="spinner-circle"></div>
                </div>
            </button>
        </div>
        <div class="margin-t15 text-center w-100 color-black hidden" id="alert-general-settings">{$word->there_problems_with_some_fields}</div>
    </div>
</form>
<script>
var PI = D.querySelectorAll('.input_key'),
    PV = D.querySelectorAll('.binput-inleft'),
    PB = D.querySelector('#password-change'),
    PS = D.querySelector('#alert-general-settings'),
    PE = D.querySelector('#current-password'),
    PP = D.querySelector('#password'),
    PC = D.querySelector('#re-password'),
    PZ = D.querySelector('#password-boom'),
    PF = function(){
        PX = !1;
        if((PE.value == '' || PP.value == '' || PC.value == '') && !PX){
            for (var j = 0, i = PI.length; j < i; j++){
                var el = PI[j],
                    GZ = el.parentNode,
                    GH = hasClass(GZ, 'group-validate') ? GZ : GZ.parentNode;
                if(el.value == ''){
                    GH.querySelector('.text-error').innerText = '*{$word->this_field_is_empty}', removeClass(PS, 'hidden'), addClass(el, 'border-red'), addClass(el, 'boxshadow-red'), timeDelay(function(){
                        addClass(PZ, 'efect-boom'), timeDelay(function(){
                            removeClass(PZ, 'efect-boom')
                        }, 200)
                    }, 700);
                }
            }
            return false;
        } else {
            for (var j = 0, i = PI.length; j < i; j++) {
                var el = PI[j],
                    GZ = el.parentNode,
                    GH = hasClass(GZ, 'group-validate') ? GZ : GZ.parentNode;
                if(el.value != ''){
                    GH.querySelector('.text-error').innerText = "", addClass(PS, 'hidden'), removeClass(el, 'border-red'), removeClass(el, 'boxshadow-red');
                }
            }
        }
        addClass(PB, 'spinner-is-loading');
        PB.setAttribute('disabled', true);
        Req("{$url->{req/settings/change-password}}", function(e){
            if (e.status == 200) {
                addClass(PS, 'hidden'), removeClass(PB, 'spinner-is-loading'), PB.removeAttribute('disabled'), loadAlert(e.message);
                for (var j = 0, i = PI.length; j < i; j++) PI[j].value = "";
            } else {
                removeClass(PS, 'hidden'), removeClass(PB, 'spinner-is-loading');
                PB.removeAttribute('disabled');
                if(e.err != undefined){
                    for (var j = 0, i = e.err.length; j < i; j++){
                        var el = D.querySelector('#'+e.err[j]['el']),
                            GZ = el.parentNode,
                            GH = hasClass(GZ, 'group-validate') ? GZ : GZ.parentNode;
                        GH.querySelector('.text-error').innerText = '*'+e.err[j]['error'], addClass(el, 'border-red'), addClass(el, 'boxshadow-red'), timeDelay(function(){
                            addClass(PZ, 'efect-boom'), timeDelay(function(){
                                removeClass(PZ, 'efect-boom')
                            }, 200)
                        }, 700);
                    }
                } else {
                    for (var j = 0, i = e.emptys.length; j < i; j++){
                        var el = D.querySelector('#'+e.emptys[j]),
                            GZ = el.parentNode,
                            GH = hasClass(GZ, 'group-validate') ? GZ : GZ.parentNode;
                        GH.querySelector('.text-error').innerText = '*{$word->this_field_is_empty}', timeDelay(function(){
                            addClass(PZ, 'efect-boom'), timeDelay(function(){
                                removeClass(PZ, 'efect-boom')
                            }, 200)
                        }, 700);
                        addClass(el, 'border-red');
                        addClass(el, 'boxshadow-red');
                    }
                }
            }
        }, "POST", "&current-password=" + D.querySelector('#current-password').value + "&password=" + D.querySelector('#password').value + "&re-password=" + D.querySelector('#re-password').value)
    },
    PX = !1;
addEvent(PB, "click", PF), addEvent(D, 'keydown', function(e){
    if((e.which == 13 || e.keyCode == 13) && PX){
        PF();
    }
});
for (var j = 0, i = PV.length; j < i; j++) addEvent(PV[j], 'click', function(){
    var self = this,
        el = self.parentNode.querySelector('input'),
        svg = self.querySelector('svg');
    if(el.getAttribute('type') == 'password'){
        svg.innerHTML = '<path fill="currentColor" d="M 8.575 15.348 L 9.358 14.089 C 8.776 13.714 8.32 13.241 7.992 12.67 C 7.664 12.098 7.5 11.494 7.5 10.857 C 7.5 10.137 7.704 9.467 8.113 8.848 C 6.579 9.545 5.304 10.595 4.286 12 C 5.404 13.536 6.834 14.652 8.575 15.348 Z M 12.482 8.571 C 12.482 8.452 12.435 8.351 12.342 8.268 C 12.248 8.185 12.134 8.143 12 8.143 C 11.163 8.143 10.445 8.409 9.845 8.942 C 9.246 9.475 8.946 10.113 8.946 10.857 C 8.946 10.976 8.993 11.077 9.087 11.161 C 9.181 11.244 9.295 11.286 9.429 11.286 C 9.563 11.286 9.676 11.244 9.77 11.161 C 9.864 11.077 9.911 10.976 9.911 10.857 C 9.911 10.345 10.115 9.908 10.523 9.545 C 10.932 9.182 11.424 9 12 9 C 12.134 9 12.248 8.958 12.342 8.875 C 12.435 8.792 12.482 8.69 12.482 8.571 Z M 16.128 6.866 C 16.128 6.908 16.125 6.935 16.118 6.946 C 15.408 8.071 14.35 9.759 12.944 12.009 C 11.538 14.259 10.483 15.943 9.78 17.062 L 9.288 17.857 C 9.221 17.952 9.127 18 9.007 18 C 8.926 18 8.478 17.792 7.661 17.375 C 7.554 17.315 7.5 17.232 7.5 17.125 C 7.5 17.054 7.647 16.795 7.942 16.348 C 6.984 15.961 6.102 15.446 5.295 14.804 C 4.488 14.161 3.79 13.432 3.201 12.616 C 3.067 12.432 3 12.226 3 12 C 3 11.774 3.067 11.568 3.201 11.384 C 4.225 9.985 5.498 8.881 7.018 8.071 C 8.538 7.262 10.199 6.857 12 6.857 C 12.596 6.857 13.199 6.908 13.808 7.009 L 14.35 6.143 C 14.417 6.048 14.511 6 14.632 6 C 14.665 6 14.725 6.018 14.813 6.054 C 14.9 6.089 15.003 6.135 15.124 6.192 C 15.244 6.248 15.355 6.304 15.455 6.357 C 15.556 6.411 15.661 6.466 15.772 6.522 C 15.882 6.579 15.948 6.613 15.968 6.625 C 16.075 6.685 16.128 6.765 16.128 6.866 Z M 16.5 10.857 C 16.5 11.685 16.235 12.439 15.706 13.121 C 15.177 13.802 14.478 14.292 13.607 14.589 L 16.42 10.107 C 16.473 10.375 16.5 10.625 16.5 10.857 Z M 21 12 C 21 12.208 20.933 12.414 20.799 12.616 C 20.538 12.997 20.173 13.429 19.704 13.911 C 18.7 14.935 17.536 15.729 16.214 16.295 C 14.891 16.86 13.487 17.143 12 17.143 L 12.743 15.964 C 14.163 15.857 15.477 15.449 16.686 14.741 C 17.895 14.033 18.904 13.119 19.714 12 C 18.944 10.935 18 10.06 16.882 9.375 L 17.515 8.375 C 18.151 8.756 18.762 9.211 19.348 9.741 C 19.934 10.271 20.417 10.818 20.799 11.384 C 20.933 11.586 21 11.792 21 12 Z"/>';
        el.setAttribute('type', 'text');
    } else {
        svg.innerHTML = '<path fill="currentColor" d="M 19.714 12 C 18.696 10.361 17.421 9.135 15.887 8.323 C 16.296 9.045 16.5 9.826 16.5 10.667 C 16.5 11.951 16.06 13.05 15.179 13.964 C 14.299 14.877 13.239 15.333 12 15.333 C 10.761 15.333 9.701 14.877 8.821 13.964 C 7.94 13.05 7.5 11.951 7.5 10.667 C 7.5 9.826 7.704 9.045 8.113 8.323 C 6.579 9.135 5.304 10.361 4.286 12 C 5.176 13.424 6.293 14.557 7.636 15.401 C 8.978 16.245 10.433 16.667 12 16.667 C 13.567 16.667 15.022 16.245 16.364 15.401 C 17.707 14.557 18.824 13.424 19.714 12 Z M 12.482 8 C 12.482 7.861 12.435 7.743 12.342 7.646 C 12.248 7.549 12.134 7.5 12 7.5 C 11.163 7.5 10.445 7.811 9.845 8.432 C 9.246 9.054 8.946 9.799 8.946 10.667 C 8.946 10.806 8.993 10.924 9.087 11.021 C 9.181 11.118 9.295 11.167 9.429 11.167 C 9.563 11.167 9.676 11.118 9.77 11.021 C 9.864 10.924 9.911 10.806 9.911 10.667 C 9.911 10.069 10.115 9.559 10.523 9.135 C 10.932 8.712 11.424 8.5 12 8.5 C 12.134 8.5 12.248 8.451 12.342 8.354 C 12.435 8.257 12.482 8.139 12.482 8 Z M 21 12 C 21 12.236 20.933 12.476 20.799 12.719 C 19.862 14.316 18.601 15.595 17.017 16.557 C 15.434 17.519 13.761 18 12 18 C 10.239 18 8.566 17.517 6.983 16.552 C 5.399 15.587 4.138 14.309 3.201 12.719 C 3.067 12.476 3 12.236 3 12 C 3 11.764 3.067 11.524 3.201 11.281 C 4.138 9.691 5.399 8.413 6.983 7.448 C 8.566 6.483 10.239 6 12 6 C 13.761 6 15.434 6.483 17.017 7.448 C 18.601 8.413 19.862 9.691 20.799 11.281 C 20.933 11.524 21 11.764 21 12 Z"/>';
        el.setAttribute('type', 'password');
    }
});
for (var j = 0, i = PI.length; j < i; j++) addEvent(PI[j], 'keyup', function(e){
    if(e.which != 13 || e.keyCode != 13){
        var self = this,
            GA = self.id,
            GW = self.value,
            GZ = self.parentNode,
            GH = hasClass(GZ, 'group-validate') ? GZ : GZ.parentNode,
            GS = GA == 'password' ? PC : PP;
        if(PP.value != '' && PC.value != '' && PE.value != ''){
            PB.removeAttribute('disabled');
        } else {
            PB.setAttribute('disabled', true)
        }
        if(GW == ''){
            GH.querySelector('.text-error').innerText = "", removeClass(self, 'border-red'), removeClass(self, 'boxshadow-red'), PX = !1;
            return false;
        }
        Req("{$url->{req/key-validate}}", function(e){
            if(e.status == 200){
                var msg = e.message;
                if(msg == ''){
                    removeClass(self, 'border-red'), removeClass(self, 'boxshadow-red');
                } else {
                    addClass(self, 'border-red'), addClass(self, 'boxshadow-red'), timeDelay(function(){
                        addClass(PZ, 'efect-boom'), timeDelay(function(){
                            removeClass(PZ, 'efect-boom')
                        }, 200)
                    }, 700), PX = !0;
                }
                GH.querySelector('.text-error').innerText = msg;
                if((GA == 'password' || GA == 're-password') && D.querySelector('#'+GA).value != '' && PP.value == PC.value){
                    GS.parentNode.parentNode.querySelector('.text-error').innerText = "", removeClass(GS, 'border-red'), removeClass(GS, 'boxshadow-red');
                }
            } else {
                loadAlert(e.message, 1);
            }
        }, "POST", "&input=" + GW + "&type=" + GA + "&password=" + PP.value + "&re-password=" + PC.value)
    }
});
</script>